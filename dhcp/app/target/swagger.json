{"swagger":"2.0","info":{"version":"1.0.0","title":"DHCP Server REST API","description":"APIs for interacting with the DHCP Server application."},"basePath":"/onos/dhcp","produces":["application/json"],"consumes":["application/json"],"tags":[{"name":"dhcp","description":"Manage DHCP address assignments"}],"paths":{"/dhcp/mappings/{macID}":{"delete":{"tags":["dhcp"],"summary":"Delete a static MAC/IP binding","description":"Removes a static binding from the DHCP Server, and displays the current set of bindings.","parameters":[{"name":"macID","in":"path","type":"string","description":"mac address identifier","required":true}],"responses":{"200":{"description":"successful operation"},"default":{"description":"Unexpected error"}}}},"/dhcp/config":{"get":{"tags":["dhcp"],"summary":"Get DHCP server configuration data","description":"Shows lease, renewal and rebinding times in seconds.","parameters":[],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/DhcpConfigGet"}},"default":{"description":"Unexpected error"}}}},"/dhcp/available":{"get":{"tags":["dhcp"],"summary":"Get all available IPs","description":"Shows all the IPs in the free pool of the DHCP Server.","parameters":[],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/DhcpConfigGetAvailable"}},"default":{"description":"Unexpected error"}}}},"/dhcp/mappings":{"get":{"tags":["dhcp"],"summary":"Get all MAC/IP mappings","description":"Shows all MAC/IP mappings held by the DHCP server.","parameters":[],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/DhcpConfigGetMappings"}},"default":{"description":"Unexpected error"}}},"post":{"tags":["dhcp"],"summary":"Post a new static MAC/IP binding","description":"Registers a static binding to the DHCP server, and displays the current set of bindings.","parameters":[{"name":"stream","in":"body","schema":{"$ref":"#/definitions/DhcpConfigPut"},"description":"JSON stream","required":true}],"consumes":["application/json"],"responses":{"200":{"description":"successful operation"},"default":{"description":"Unexpected error"}}}}},"definitions":{"DhcpConfigGet":{"type":"object","required":["leaseTime","renewalTime","rebindingTime"],"properties":{"leaseTime":{"type":"integer","format":"int64","example":"250"},"renewalTime":{"type":"integer","format":"int64","example":"250"},"rebindingTime":{"type":"integer","format":"int64","example":"250"}}},"DhcpConfigGetMappings":{"type":"object","required":["mappings"],"properties":{"mappings":{"type":"array","items":{"type":"string"},"example":"[]"}}},"DhcpConfigGetAvailable":{"type":"object","required":["availableIp"],"properties":{"availableIp":{"type":"array","items":{"type":"string"},"example":"[127.0.0.1]"}}},"DhcpConfigPut":{"type":"object","required":["mac","ip"],"properties":{"mac":{"type":"String","example":"be:48:89:d5:75:59"},"ip":{"type":"String","example":"10.128.12.4"}}}}}
